{\rtf1\ansi\ansicpg1252\uc1\deff0\stshfdbch13\stshfloch0\stshfhich0\stshfbi0\deflang1033\deflangfe2052{\fonttbl{\f0\froman\fcharset0\fprq2{\*\panose 02020603050405020304}Times New Roman;}{\f3\froman\fcharset2\fprq2{\*\panose 05050102010706020507}Symbol;}
{\f4\fswiss\fcharset0\fprq2{\*\panose 020b0604020202020204}Helvetica;}{\f7\fswiss\fcharset0\fprq2{\*\panose 020b0604020202030204}Helv{\*\falt Arial};}{\f13\fnil\fcharset134\fprq2{\*\panose 02010600030101010101}SimSun{\*\falt \'cb\'ce\'cc\'e5};}
{\f76\fnil\fcharset134\fprq2{\*\panose 02010600030101010101}@SimSun;}{\f121\froman\fcharset238\fprq2 Times New Roman CE;}{\f122\froman\fcharset204\fprq2 Times New Roman Cyr;}{\f124\froman\fcharset161\fprq2 Times New Roman Greek;}
{\f125\froman\fcharset162\fprq2 Times New Roman Tur;}{\f126\froman\fcharset177\fprq2 Times New Roman (Hebrew);}{\f127\froman\fcharset178\fprq2 Times New Roman (Arabic);}{\f128\froman\fcharset186\fprq2 Times New Roman Baltic;}
{\f129\froman\fcharset163\fprq2 Times New Roman (Vietnamese);}{\f161\fswiss\fcharset238\fprq2 Helvetica CE;}{\f162\fswiss\fcharset204\fprq2 Helvetica Cyr;}{\f164\fswiss\fcharset161\fprq2 Helvetica Greek;}{\f165\fswiss\fcharset162\fprq2 Helvetica Tur;}
{\f166\fswiss\fcharset177\fprq2 Helvetica (Hebrew);}{\f167\fswiss\fcharset178\fprq2 Helvetica (Arabic);}{\f168\fswiss\fcharset186\fprq2 Helvetica Baltic;}{\f169\fswiss\fcharset163\fprq2 Helvetica (Vietnamese);}
{\f253\fnil\fcharset0\fprq2 SimSun Western{\*\falt \'cb\'ce\'cc\'e5};}{\f883\fnil\fcharset0\fprq2 @SimSun Western;}}{\colortbl;\red0\green0\blue0;\red0\green0\blue255;\red0\green255\blue255;\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;
\red255\green255\blue0;\red255\green255\blue255;\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;\red128\green0\blue128;\red128\green0\blue0;\red128\green128\blue0;\red128\green128\blue128;\red192\green192\blue192;}{\stylesheet{
\ql \li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs24\lang1033\langfe2052\loch\f0\hich\af0\dbch\af13\cgrid\langnp1033\langfenp2052 \snext0 Normal;}{\*\cs10 \additive \ssemihidden Default Paragraph Font;}{\*
\ts11\tsrowd\trftsWidthB3\trpaddl108\trpaddr108\trpaddfl3\trpaddft3\trpaddfb3\trpaddfr3\trcbpat1\trcfpat1\tscellwidthfts0\tsvertalt\tsbrdrt\tsbrdrl\tsbrdrb\tsbrdrr\tsbrdrdgl\tsbrdrdgr\tsbrdrh\tsbrdrv 
\ql \li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs20\lang1024\langfe1024\loch\f0\hich\af0\dbch\af13\cgrid\langnp1024\langfenp1024 \snext11 \ssemihidden Normal Table;}}{\*\listtable{\list\listtemplateid-1543348118\listsimple
{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat0\levelspace0\levelindent0{\leveltext\'01*;}{\levelnumbers;}}{\listname ;}\listid-2}}{\*\listoverridetable{\listoverride\listid-2\listoverridecount1{\lfolevel\listoverrideformat
{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat0\levelold\levelspace0\levelindent0{\leveltext\'01\u-3913 ?;}{\levelnumbers;}\f3\fbias0 }}\ls1}}{\*\rsidtbl \rsid12466168}{\*\generator Microsoft Word 10.0.2627;}{\info
{\author Bing Han}{\operator Bing Han}{\creatim\yr2006\mo1\dy20\hr15\min11}{\revtim\yr2006\mo1\dy20\hr15\min11}{\version2}{\edmins0}{\nofpages2}{\nofwords984}{\nofchars5610}{\*\company MapInfo}{\nofcharsws6581}{\vern16437}}
\widowctrl\ftnbj\aenddoc\noxlattoyen\expshrtn\noultrlspc\dntblnsbdb\nospaceforul\hyphcaps0\horzdoc\dghspace120\dgvspace120\dghorigin1701\dgvorigin1984\dghshow0\dgvshow3\jcompress\viewkind4\viewscale75\nolnhtadjtbl\rsidroot12466168 \fet0\sectd 
\linex0\sectdefaultcl\sftnbj {\*\pnseclvl1\pnucrm\pnstart1\pnindent720\pnhang {\pntxta .}}{\*\pnseclvl2\pnucltr\pnstart1\pnindent720\pnhang {\pntxta .}}{\*\pnseclvl3\pndec\pnstart1\pnindent720\pnhang {\pntxta .}}{\*\pnseclvl4
\pnlcltr\pnstart1\pnindent720\pnhang {\pntxta )}}{\*\pnseclvl5\pndec\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}{\*\pnseclvl6\pnlcltr\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}{\*\pnseclvl7\pnlcrm\pnstart1\pnindent720\pnhang {\pntxtb (}
{\pntxta )}}{\*\pnseclvl8\pnlcltr\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}{\*\pnseclvl9\pnlcrm\pnstart1\pnindent720\pnhang {\pntxtb (}{\pntxta )}}\pard\plain \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 
\fs24\lang1033\langfe2052\loch\af0\hich\af0\dbch\af13\cgrid\langnp1033\langfenp2052 {\b\f4\fs22\insrsid12466168 \hich\af4\dbch\af13\loch\f4 ReadMe for MapXtreme }{\b\f4\fs22\insrsid12466168 \hich\af4\dbch\af13\loch\f4 2005}{\b\f4\fs22\insrsid12466168 
\hich\af4\dbch\af13\loch\f4  Desktop Tools Sample
\par }{\b\f4\fs20\insrsid12466168 
\par }\pard \ql \li0\ri0\sl240\slmult0\nowidctlpar\faauto\rin0\lin0\itap0 {\b\f4\fs22\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 What the sample demonstrates}{\b\f4\cf1\insrsid12466168 
\par }{\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 This sample application demonstrates how to set up and use the stock Desktop mo\hich\af4\dbch\af13\loch\f4 
use tools:  Map tools, Select tools, Add tools, and Custom tools.  It also provides a starting point for creating your own customized tools -- either by customizing new instances of stock tools with event code, or by writing your own tool classes that der
\hich\af4\dbch\af13\loch\f4 i\hich\af4\dbch\af13\loch\f4 ve from stock tools but override specific methods.
\par 
\par }{\b\f4\fs22\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 Application Features}{\b\f4\fs20\cf1\insrsid12466168 
\par {\pntext\pard\plain\f3\fs20\cf1 \loch\af3\dbch\af13\hich\f3 \'b7\tab}}\pard \ql \fi-360\li720\ri0\sl240\slmult0\nowidctlpar{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pnf3 {\pntxtb \'b7}}\faauto\ls1\rin0\lin720\itap0\pararsid12466168 {
\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 Creates an in-memory temporary table as a scratch pad, and puts it on the map when the program is started.
\par }\pard \ql \li0\ri0\sl240\slmult0\nowidctlpar{\*\pn \pnlvlcont\ilvl12\ls0\pnrnot0\pnf3 {\pntxtb \'b7}}\faauto\ilvl12\rin0\lin0\itap0\pararsid12466168 {\f4\fs20\cf1\insrsid12466168 
\par }{\b\f4\fs22\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 MapXtreme }{\b\f4\fs22\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 2005}{\b\f4\fs22\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4  Features demonstrated}{\b\f4\fs20\cf1\insrsid12466168 

\par {\pntext\pard\plain\f3\fs20\cf1 \loch\af3\dbch\af13\hich\f3 \'b7\tab}}\pard \ql \fi-360\li720\ri0\sl240\slmult0\nowidctlpar{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pnf3 {\pntxtb \'b7}}\faauto\ls1\rin0\lin720\itap0\pararsid12466168 {
\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 MapControl
\par {\pntext\pard\plain\f3\fs20\cf1 \loch\af3\dbch\af13\hich\f3 \'b7\tab}\hich\af4\dbch\af13\loch\f4 standard toolbar with associated code necessary to duplicate MapToolBar functionality
\par {\pntext\pard\plain\f3\fs20\cf1 \loch\af3\dbch\af13\hich\f3 \'b7\tab}\hich\af4\dbch\af13\loch\f4 available Map, Select, Add, and Custom tools.
\par {\pntext\pard\plain\f3\fs20\cf1 \loch\af3\dbch\af13\hich\f3 \'b7\tab}\hich\af4\dbch\af13\loch\f4 Tool events and event handling
\par }\pard \ql \li0\ri0\sl240\slmult0\nowidctlpar\faauto\rin0\lin0\itap0 {\f4\fs20\cf1\insrsid12466168 
\par }{\b\f4\fs22\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 Installation}{\f4\fs20\cf1\insrsid12466168 
\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 Just open the included project file in Visual Studio.NET 2003 and choose }{\b\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 
Build > Build Solution}{\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4  from the Visual Studio menu bar.  Make sure that you have installed the MapXtreme }{\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 2005}{
\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4  Object Model on the system prior to opening.
\par 
\par }{\b\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 IMPORTANT}{\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 :  Because this sample contains a customized StatusBar control, it is necessary to build th\hich\af4\dbch\af13\loch\f4 
e project }{\f4\fs20\ul\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 before}{\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 
 attempting to view or modify DesktopTools.cs via the Design view.  If LayerFilterStatusBar.cs has not been built, the Visual Studio designer will fail to find the resources it needs to display the status bar.
\par 
\par \hich\af4\dbch\af13\loch\f4 If this happens, Visual Studi\hich\af4\dbch\af13\loch\f4 o will remove the control from DesktopTools.cs when Design View is opened, and will display the error message }{\b\f4\fs20\cf1\insrsid12466168 
\hich\af4\dbch\af13\loch\f4 Could not find type 'ToolsAppCS.LayerFilterStatusBar'.}{\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4   Modifying and saving the Design view at this point would cause the status bar to be remove
\hich\af4\dbch\af13\loch\f4 d from the form permanently, resulting in errors when the code is run.
\par 
\par \hich\af4\dbch\af13\loch\f4 Therefore, make sure that LayerFilterStatusBar.cs has been built before making these kinds of design changes.  Alternatively, alter the code to instantiate the LayerFilterStatusBar at \hich\af4\dbch\af13\loch\f4 
runtime, and avoid displaying it in the designer at all.
\par 
\par }{\b\f4\fs22\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 Notes on using the sample:}{\f4\fs20\cf1\insrsid12466168 
\par }{\b\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 1)}{\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 
 The default settings in Layer Control for newly-added layers prevent the Add tools from creating new objects in those layers, and prevent the Select tool from moving or\hich\af4\dbch\af13\loch\f4 
 resizing existing objects. To change this, use the Layer Control button, click on the layer you want to change, and under the "Options" tab check the "Editable" checkbox and/or the "Drawing tools can add features" checkbox as appropriate.  These settings
\hich\af4\dbch\af13\loch\f4  \hich\af4\dbch\af13\loch\f4 are enabled for the automatically-added "Temp" layer.
\par 
\par }{\b\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 2)}{\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 
 The Add tools will add objects to the topmost remaining layer where adding objects is allowed.  If you move or remove the Temp layer, or change its settings so that objects can no longer be added to\hich\af4\dbch\af13\loch\f4 
 it (Layer Control > Temp > Options > uncheck "Drawing tools can add features"), then the Add tools will have no effect unless another layer has been set up as an insertion layer.
\par }{\b\f4\fs20\cf1\insrsid12466168 
\par \hich\af4\dbch\af13\loch\f4 3)}{\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4  The Custom tools -- the row of buttons on the toolbar including the gree\hich\af4\dbch\af13\loch\f4 
n pushpin and the dotted-line outlines -- behave the same way as the equivalent Add tools, but do not automatically add any objects to the insertion layer.  Code should be placed in the appropriate event handlers to add appropriate custom functionality to
\hich\af4\dbch\af13\loch\f4  \hich\af4\dbch\af13\loch\f4 these tools.
\par 
\par }{\b\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 4)}{\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 
 To edit or add to an object's nodes, use the Layer Control button and choose the Editing tab for the topmost line in the treeview -- in this sample, 'Map1' is the default name of this top-level map node.  These are settings that apply to t
\hich\af4\dbch\af13\loch\f4 
he map as a whole.  The Editing Mode is currently set to "Allow moving and resizing" by default.  Change this to allow node editing or adding as appropriate, then use the Select tool to choose and modify objects in an editable layer.
\par 
\par \hich\af4\dbch\af13\loch\f4 
If you're editing new objects added to the Temp layer, however, remember that only Polygon (region) and Polyline objects contain editable nodes.  Rectangles, circles and ellipses are defined by their bounding boxes; in this sample they can only be edited 
\hich\af4\dbch\af13\loch\f4 b\hich\af4\dbch\af13\loch\f4 y resizing.  It would be necessary to add code to convert these objects to polygons or polylines before editing the nodes.
\par 
\par }{\b\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 5)}{\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4  Objects can be deleted by selecting them with any Select tool and pressing the Delete key.  This will only work if editability is
\hich\af4\dbch\af13\loch\f4  turned on for the layer containing the object -- see #1 above.
\par 
\par }{\b\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 6)}{\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4  The statusbar allows easy access to the editability and selectability of layers -- but note that this only changes the }{
\f4\fs20\ul\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 default}{\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4  properties of the Add and Select tools as a group.  In MapXtr\hich\af4\dbch\af13\loch\f4 eme }{\f4\fs20\cf1\insrsid12466168 
\hich\af4\dbch\af13\loch\f4 2005}{\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 , there are no "Editable" and "Selectable" properties on the actual map layers -- different tools can be configured to operate on different sets of layers.
\par 
\par }{\b\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 7)}{\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4  Extra event code and calls to user32.dll's GetFocus() are included in this sample, to al\hich\af4\dbch\af13\loch\f4 
low the mouse wheel and cursor icons to function correctly whenever the mouse pointer is hovering over the map control.  Without this code, an initial click on the map is required -- or each control must have associated event code that explicitly sets the
\hich\af4\dbch\af13\loch\f4  \hich\af4\dbch\af13\loch\f4 focus back to the map control.
\par 
\par \hich\af4\dbch\af13\loch\f4 This focus-changing behavior generally needs to be disabled while the AddText tool is being used (if the end user has access to that tool.)  AddText creates a new child window on the map.  If the focus-monitoring code is run
\hich\af4\dbch\af13\loch\f4 
ning during AddText use, the editing process will be automatically finalized as soon as the mouse moves -- i.e. the AddText cursor will disappear, and the LegacyText object will be created.  This is because because the mapControl1_MouseEnter event fires a
\hich\af4\dbch\af13\loch\f4 s\hich\af4\dbch\af13\loch\f4  soon as the mouse is moved again, with the result that the focus would immediately return to the map control window instead of the child window.
\par 
\par }{\b\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 8)}{\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4  The application includes three buttons for convenient loading of sample point, line, and region tables, wh
\hich\af4\dbch\af13\loch\f4 ich it looks for in two places.  By default it will open tables from the current MapXtreme }{\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 2005}{\f4\fs20\cf1\insrsid12466168 \hich\af4\dbch\af13\loch\f4 
 data search path -- this is recorded in the Windows registry by a standard installation.
\par 
\par \hich\af4\dbch\af13\loch\f4 However, to avoid making unintended changes to the sample data while t\hich\af4\dbch\af13\loch\f4 
rying out the Add tools and editing tools, you may wish to make a copy of   US_CNTY, US_HIWAY, and USCTY_1K tables, along with any other tables from the MapXtreme\\6.0\\Samples\\
Data folder that you want to work with.  Place the copies in a new Data folder i\hich\af4\dbch\af13\loch\f4 n\hich\af4\dbch\af13\loch\f4  the project directory [Samples\\Features\\DesktopTools\\cs\\
Data].  The application will then load the files in this subdirectory instead of the ones from the standard Samples\\Data location.
\par 
\par \hich\af4\dbch\af13\loch\f4 If the application cannot find the data in either location, it will\hich\af4\dbch\af13\loch\f4  show warning messages in the Results textbox if you push the buttons to load these tables.}{\f7\fs20\cf1\insrsid12466168 
\par }}